<<<<<<< HEAD
# üåç ¬†react-native-localize

A toolbox for your React Native app localization.

[![mit licence](https://img.shields.io/dub/l/vibe-d.svg?style=for-the-badge)](https://github.com/zoontek/react-native-localize/blob/main/LICENSE)
[![npm version](https://img.shields.io/npm/v/react-native-localize?style=for-the-badge)](https://www.npmjs.org/package/react-native-localize)
[![npm downloads](https://img.shields.io/npm/dt/react-native-localize.svg?label=downloads&style=for-the-badge)](https://www.npmjs.org/package/react-native-localize)
<br />
[![platform - android](https://img.shields.io/badge/platform-Android-3ddc84.svg?logo=android&style=for-the-badge)](https://www.android.com)
[![platform - ios](https://img.shields.io/badge/platform-iOS-000.svg?logo=apple&style=for-the-badge)](https://developer.apple.com/ios)
[![platform - macos](https://img.shields.io/badge/platform-macOS-000.svg?logo=apple&style=for-the-badge)](https://developer.apple.com/macos)
[![platform - web](https://img.shields.io/badge/platform-Web-1977f2.svg?logo=html5&logoColor=fff&style=for-the-badge)](https://developer.mozilla.org)

<img width="400" height="auto" center src="https://github.com/zoontek/react-native-localize/blob/master/docs/screenshot.png?raw=true" />

## Support

This library follows the React Native [releases support policy](https://github.com/reactwg/react-native-releases/blob/main/docs/support.md).<br>
It is supporting the **latest version**, and the **two previous minor series**.
=======
# üåç¬†¬†react-native-localize

A toolbox for your React Native app localization.

[![npm version](https://badge.fury.io/js/react-native-localize.svg)](https://badge.fury.io/js/react-native-localize) [![npm](https://img.shields.io/npm/dt/react-native-localize.svg)](https://www.npmjs.org/package/react-native-localize) ![Platform - Android, iOS and Web](https://img.shields.io/badge/platform-Android%20%7C%20iOS%20%7C%20Web-yellow.svg) ![MIT](https://img.shields.io/dub/l/vibe-d.svg) [![styled with prettier](https://img.shields.io/badge/styled_with-prettier-ff69b4.svg)](https://github.com/prettier/prettier)

<img width="400" height="auto" center src="https://github.com/react-native-community/react-native-localize/blob/master/docs/screenshot.png?raw=true" />

## Support

| package name           | version | react-native version |
| ---------------------- | ------- | -------------------- |
| react-native-localize  | 1.0.0+  | 0.56.0+              |
| react-native-languages | 2.0.1   | 0.48.0 - 0.55.4      |
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8

## Setup

```bash
$ npm install --save react-native-localize
# --- or ---
$ yarn add react-native-localize
```

_Don't forget to run `pod install` after that¬†!_

<<<<<<< HEAD
### Web support

This package supports `react-native-web`. Follow their [official guide](https://necolas.github.io/react-native-web/docs/multi-platform/#compiling-and-bundling) to configure `webpack`.

### Debugging

As this library uses synchronous native methods, remote debugging (e.g. with Chrome) is no longer possible.<br />
Instead, you should use [Flipper üê¨](https://fbflipper.com).

## Basic usage example

```ts
import { getCurrencies, getLocales } from "react-native-localize";

console.log(getLocales());
console.log(getCurrencies());
=======
## üÜò¬†¬†Manual linking

Because this package targets React Native 0.60.0+, you will probably don't need to link it manually. Otherwise if it's not the case, follow this additional instructions:

<details>
  <summary><b>üëÄ See manual linking instructions</b></summary>

### iOS

Add this line to your `ios/Podfile` file, then run `pod install`.

```bash
target 'YourAwesomeProject' do
  # ‚Ä¶
  pod 'RNLocalize', :path => '../node_modules/react-native-localize'
end
```

### Android

1. Add the following lines to `android/settings.gradle`:

```gradle
include ':react-native-localize'
project(':react-native-localize').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-localize/android')
```

2. Add the implementation line to the dependencies in `android/app/build.gradle`:

```gradle
dependencies {
  // ...
  implementation project(':react-native-localize')
}
```

3. Add the import and link the package in `MainApplication.java`:

```java
import com.reactcommunity.rnlocalize.RNLocalizePackage; // <- add the RNLocalizePackage import

public class MainApplication extends Application implements ReactApplication {

  // ‚Ä¶

  @Override
  protected List<ReactPackage> getPackages() {
    @SuppressWarnings("UnnecessaryLocalVariable")
    List<ReactPackage> packages = new PackageList(this).getPackages();
    // ‚Ä¶
    packages.add(new RNLocalizePackage());
    return packages;
  }

  // ‚Ä¶
}
```

</details>

## Web support

This package supports `react-native-web`. Follow their [official guide](http://necolas.github.io/react-native-web/docs/?path=/docs/guides-multi-platform--page) to configure `webpack`.

## Basic usage example

```js
import * as RNLocalize from "react-native-localize";

console.log(RNLocalize.getLocales());
console.log(RNLocalize.getCurrencies());

RNLocalize.addEventListener("change", () => {
  // do localization related stuff‚Ä¶
});
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

## API

### getLocales()

Returns the user preferred locales, in order.

#### Method type

```ts
type getLocales = () => Array<{
  languageCode: string;
  scriptCode?: string;
  countryCode: string;
  languageTag: string;
  isRTL: boolean;
}>;
```

#### Usage example

<<<<<<< HEAD
```ts
import { getLocales } from "react-native-localize";

console.log(getLocales());
=======
```js
console.log(RNLocalize.getLocales());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
/* -> [
  { countryCode: "GB", languageTag: "en-GB", languageCode: "en", isRTL: false },
  { countryCode: "US", languageTag: "en-US", languageCode: "en", isRTL: false },
  { countryCode: "FR", languageTag: "fr-FR", languageCode: "fr", isRTL: false },
] */
```

---

### getNumberFormatSettings()

Returns number formatting settings.

#### Method type

```ts
type getNumberFormatSettings = () => {
  decimalSeparator: string;
  groupingSeparator: string;
};
```

#### Usage example

<<<<<<< HEAD
```ts
import { getNumberFormatSettings } from "react-native-localize";

console.log(getNumberFormatSettings());
=======
```js
console.log(RNLocalize.getNumberFormatSettings());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
/* -> {
  decimalSeparator: ".",
  groupingSeparator: ",",
} */
```

---

### getCurrencies()

Returns the user preferred currency codes, in order.

#### Method type

```ts
<<<<<<< HEAD
type getCurrencies = () => string[];
=======
type getCurrencies = () => Array<string>;
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

#### Usage example

<<<<<<< HEAD
```ts
import { getCurrencies } from "react-native-localize";

console.log(getCurrencies());
=======
```js
console.log(RNLocalize.getCurrencies());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
// -> ["EUR", "GBP", "USD"]
```

---

### getCountry()

Returns the user current country code (based on its device locale, **not** on its position).

#### Method type

```ts
type getCountry = () => string;
```

#### Usage example

<<<<<<< HEAD
```ts
import { getCountry } from "react-native-localize";

console.log(getCountry());
// -> "FR"
```

#### Note

Devices using Latin American regional settings will return "UN" instead of "419", as the latter is not a standard country code.

=======
```js
console.log(RNLocalize.getCountry());
// -> "FR"
```

>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
---

### getCalendar()

Returns the user preferred calendar format.

#### Method type

```ts
<<<<<<< HEAD
type getCalendar = () =>
  | "gregorian"
  | "buddhist"
  | "coptic"
  | "ethiopic"
  | "ethiopic-amete-alem"
  | "hebrew"
  | "indian"
  | "islamic"
  | "islamic-umm-al-qura"
  | "islamic-civil"
  | "islamic-tabular"
  | "iso8601"
  | "japanese"
  | "persian";
=======
type getCalendar = () => "gregorian" | "japanese" | "buddhist";
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

#### Usage example

<<<<<<< HEAD
```ts
import { getCalendar } from "react-native-localize";

console.log(getCalendar());
=======
```js
console.log(RNLocalize.getCalendar());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
// -> "gregorian"
```

---

### getTemperatureUnit()

Returns the user preferred temperature unit.

#### Method type

```ts
type getTemperatureUnit = () => "celsius" | "fahrenheit";
```

#### Usage example

<<<<<<< HEAD
```ts
import { getTemperatureUnit } from "react-native-localize";

console.log(getTemperatureUnit());
=======
```js
console.log(RNLocalize.getTemperatureUnit());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
// -> "celsius"
```

---

### getTimeZone()

Returns the user preferred timezone (based on its device settings, **not** on its position).

#### Method type

```ts
type getTimeZone = () => string;
```

#### Usage example

<<<<<<< HEAD
```ts
import { getTimeZone } from "react-native-localize";

console.log(getTimeZone());
=======
```js
console.log(RNLocalize.getTimeZone());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
// -> "Europe/Paris"
```

---

### uses24HourClock()

<<<<<<< HEAD
Returns `true` if the user prefers 24h clock format, `false` if they prefer 12h clock format.
=======
Returns `true` if the user prefers 24h clock format, `false` if he prefers 12h clock format.
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8

#### Method type

```ts
type uses24HourClock = () => boolean;
```

#### Usage example

<<<<<<< HEAD
```ts
import { uses24HourClock } from "react-native-localize";

console.log(uses24HourClock());
=======
```js
console.log(RNLocalize.uses24HourClock());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
// -> true
```

---

### usesMetricSystem()

<<<<<<< HEAD
Returns `true` if the user prefers metric measure system, `false` if they prefer imperial.
=======
Returns `true` if the user prefers metric measure system, `false` if he prefers imperial.
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8

#### Method type

```ts
type usesMetricSystem = () => boolean;
```

#### Usage example

<<<<<<< HEAD
```ts
import { usesMetricSystem } from "react-native-localize";

console.log(usesMetricSystem());
=======
```js
console.log(RNLocalize.usesMetricSystem());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
// -> true
```

---

### usesAutoDateAndTime()

Tells if the automatic date & time setting is enabled on the phone. **Android only**

#### Method type

```ts
<<<<<<< HEAD
type usesAutoDateAndTime = () => boolean | undefined;
=======
type Option<T> = T | undefined;
type usesAutoDateAndTime = () => Option<boolean>;
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

#### Usage example

<<<<<<< HEAD
```ts
import { usesAutoDateAndTime } from "react-native-localize";

console.log(usesAutoDateAndTime()); // true or false
=======
```js
console.log(RNLocalize.usesAutoDateAndTime()); // true or false
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

---

### usesAutoTimeZone()

Tells if the automatic time zone setting is enabled on the phone. **Android only**

#### Method type

```ts
<<<<<<< HEAD
type usesAutoTimeZone = () => boolean | undefined;
=======
type Option<T> = T | undefined;
type usesAutoTimeZone = () => Option<boolean>;
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

#### Usage example

<<<<<<< HEAD
```ts
import { usesAutoTimeZone } from "react-native-localize";

console.log(usesAutoTimeZone());
=======
```js
console.log(RNLocalize.usesAutoTimeZone());
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
```

---

<<<<<<< HEAD
### findBestLanguageTag()

Returns the best language tag possible and its reading direction (‚ö†Ô∏è **it respects the user preferred languages list order, see [explanations](https://github.com/zoontek/react-native-localize/issues/57#issuecomment-508456427)**). Useful to pick the best translation available.
=======
### addEventListener() / removeEventListener()

Allows you to listen for any localization change.

#### Methods type

```ts
type addEventListener = (type: "change", handler: Function) => void;
type removeEventListener = (type: "change", handler: Function) => void;
```

#### Usage example

```js
function handleLocalizationChange() {
  console.log(RNLocalize.getLocales());
}

RNLocalize.addEventListener("change", handleLocalizationChange);
// ‚Ä¶later (ex: component unmount)
RNLocalize.removeEventListener("change", handleLocalizationChange);
```

---

### findBestAvailableLanguage()

Returns the best language tag possible and its reading direction (‚ö†Ô∏è **it respects the user preferred languages list order, see [explanations](https://github.com/react-native-community/react-native-localize/issues/57#issuecomment-508456427)**). Useful to pick the best translation available.
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8

#### Method type

```ts
<<<<<<< HEAD
type findBestLanguageTag = (
  languageTags: string[],
=======
type findBestAvailableLanguage = (
  languageTags: Array<string>,
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
) => { languageTag: string; isRTL: boolean } | void;
```

#### Usage example

<<<<<<< HEAD
```ts
import { findBestLanguageTag } from "react-native-localize";

console.log(findBestLanguageTag(["en-US", "en", "fr"]));
// -> { languageTag: "en-US", isRTL: false }
```

## Examples with [@formatjs/intl](https://formatjs.io/docs/intl)

Browse the files in the [/example](https://github.com/zoontek/react-native-localize/tree/master/example) directory.

## How to update supported localizations (iOS)

You can add / remove supported localizations in your Xcode project infos:

![](https://github.com/zoontek/react-native-localize/blob/master/docs/xcode-adding-locales.png?raw=true)

## How to test your code

Because it's a native module, you need to mock this package.<br />
The package provides a default mock you may import in your `__mocks__` directory:

```ts
// __mocks__/react-native-localize.ts
export * from "react-native-localize/mock"; // or "react-native-localize/mock/jest"
```

## Sponsors

This module is provided **as is**, I work on it in my free time.

If you or your company uses it in a production app, consider sponsoring this project üí∞. You also can contact me for **premium** enterprise support: help with issues, prioritize bugfixes, feature requests, etc.

<a href="https://github.com/sponsors/zoontek"><img align="center" alt="Sponsors list" src="https://raw.githubusercontent.com/zoontek/sponsors/main/sponsorkit/sponsors.svg"></a>
=======
```js
console.log(RNLocalize.findBestAvailableLanguage(["en-US", "en", "fr"]));
// -> { languageTag: "en-US", isRTL: false }
```

## Examples with [i18n-js](https://github.com/fnando/i18n-js)

Browse the files in the [/example](https://github.com/react-native-community/react-native-localize/tree/master/example) directory.

## How to test your code

Because it's a native module, you might need to mock this package to run your tests flawlessly.<br />
Here is an example for Jest, adapt it to your needs¬†:

```js
// __mocks__/react-native-localize.js

const getLocales = () => [
  // you can choose / add the locales you want
  { countryCode: "US", languageTag: "en-US", languageCode: "en", isRTL: false },
  { countryCode: "FR", languageTag: "fr-FR", languageCode: "fr", isRTL: false },
];

// use a provided translation, or return undefined to test your fallback
const findBestAvailableLanguage = () => ({
  languageTag: "en-US",
  isRTL: false,
});

const getNumberFormatSettings = () => ({
  decimalSeparator: ".",
  groupingSeparator: ",",
});

const getCalendar = () => "gregorian"; // or "japanese", "buddhist"
const getCountry = () => "US"; // the country code you want
const getCurrencies = () => ["USD", "EUR"]; // can be empty array
const getTemperatureUnit = () => "celsius"; // or "fahrenheit"
const getTimeZone = () => "Europe/Paris"; // the timezone you want
const uses24HourClock = () => true;
const usesMetricSystem = () => true;

const addEventListener = jest.fn();
const removeEventListener = jest.fn();

export {
  findBestAvailableLanguage,
  getLocales,
  getNumberFormatSettings,
  getCalendar,
  getCountry,
  getCurrencies,
  getTemperatureUnit,
  getTimeZone,
  uses24HourClock,
  usesMetricSystem,
  addEventListener,
  removeEventListener,
};
```

## Add project's supported localizations (iOS)

![](https://github.com/react-native-community/react-native-localize/blob/master/docs/xcode-adding-locales.png?raw=true)
>>>>>>> aec85746435d3ba41358c5b7d65f93f87448e5b8
